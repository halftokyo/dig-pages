<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>东京深度居住指南</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/clay-style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .rank-circle {
            background-color: var(--clay-gray-900);
            color: var(--clay-white);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
        }

        .rating-excellent { background-color: var(--clay-green-500); }
        .rating-good { background-color: var(--clay-blue-500); }
        .rating-average { background-color: var(--clay-yellow-500); }
        .rating-poor { background-color: var(--clay-orange-500); }
        .rating-bad { background-color: var(--clay-red-500); }

        .area-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border: 2px solid var(--clay-gray-300);
            background: var(--clay-white);
            color: var(--clay-gray-700);
            border-radius: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab-button.active {
            background: var(--clay-gray-900);
            color: var(--clay-white);
            border-color: var(--clay-gray-900);
        }

        .tab-button:hover {
            border-color: var(--clay-gray-600);
        }

        .area-content {
            display: none;
        }

        .area-content.active {
            display: block;
        }

        .area-card {
            margin-bottom: 1.5rem;
        }

        .area-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .detail-item {
            padding: 0.75rem;
            background: var(--clay-gray-50);
            border-radius: 0.375rem;
            border-left: 3px solid var(--clay-blue-500);
        }

        .detail-label {
            font-weight: 600;
            color: var(--clay-gray-700);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .detail-value {
            color: var(--clay-gray-600);
            font-size: 0.875rem;
        }
    </style>
</head>

<body>
    <!-- Clay风格的导航栏 -->
    <nav class="clay-navbar">
        <div class="clay-navbar-container">
            <a href="index.html" class="clay-logo">dig</a>
        </div>
    </nav>

    <!-- Clay风格的Hero Section -->
    <section class="clay-bg-white clay-p-8">
        <div class="clay-container clay-text-center">
            <h1 class="clay-heading-1">东京深度居住指南</h1>
            <p class="clay-text-lg clay-text-gray-600 clay-mb-0" style="max-width: 600px; margin: 0 auto;">揭秘东京不为人知的居住地选择，从"劝退"区域到隐藏宝藏，帮助您避开陷阱，找到真正适合的生活区域。</p>
        </div>
    </section>

    <!-- Clay风格的内容区域 -->
    <section class="clay-p-8">
        <div class="clay-container">
            <h2 class="clay-heading-3 clay-text-center clay-mb-6">首都圈深度居住分析</h2>
            
            <!-- 区域选择标签 -->
            <div class="area-tabs">
                <button class="tab-button active" onclick="showArea('tokyo')">东京23区</button>
                <button class="tab-button" onclick="showArea('kanagawa')">神奈川县</button>
                <button class="tab-button" onclick="showArea('chiba')">千叶县</button>
                <button class="tab-button" onclick="showArea('saitama')">埼玉县</button>
            </div>

            <!-- 东京23区内容 -->
            <div id="tokyo-content" class="area-content active">
                <div id="tokyo-areas" class="clay-grid clay-grid-cols-1 clay-mb-8">
                    <!-- 动态加载东京区域数据 -->
                </div>
            </div>

            <!-- 神奈川县内容 -->
            <div id="kanagawa-content" class="area-content">
                <div id="kanagawa-areas" class="clay-grid clay-grid-cols-1 clay-mb-8">
                    <!-- 动态加载神奈川区域数据 -->
                </div>
            </div>

            <!-- 千叶县内容 -->
            <div id="chiba-content" class="area-content">
                <div id="chiba-areas" class="clay-grid clay-grid-cols-1 clay-mb-8">
                    <!-- 动态加载千叶区域数据 -->
                </div>
            </div>

            <!-- 埼玉县内容 -->
            <div id="saitama-content" class="area-content">
                <div id="saitama-areas" class="clay-grid clay-grid-cols-1 clay-mb-8">
                    <!-- 动态加载埼玉区域数据 -->
                </div>
            </div>

            <h2 class="clay-heading-3 clay-text-center clay-mb-6">避坑指南与实用建议</h2>
            <div class="clay-grid clay-grid-cols-2 clay-mb-8">
                <div class="clay-card" style="background-color: var(--clay-red-50); border-left: 4px solid var(--clay-red-500);">
                    <h3 class="clay-heading-5 clay-mb-4" style="color: var(--clay-red-600);">⚠️ 需要谨慎的区域</h3>
                    <div class="clay-text-sm clay-text-gray-700">
                        <div class="clay-mb-3"><strong>足立区：</strong> 治安问题，建议避开</div>
                        <div class="clay-mb-3"><strong>葛飾区：</strong> 部分区域老化严重</div>
                        <div class="clay-mb-3"><strong>江戸川区：</strong> 水灾风险较高</div>
                        <div class="clay-mb-0"><strong>荒川区：</strong> 工业区较多，环境一般</div>
                    </div>
                </div>

                <div class="clay-card" style="background-color: var(--clay-green-50); border-left: 4px solid var(--clay-green-500);">
                    <h3 class="clay-heading-5 clay-mb-4" style="color: var(--clay-green-600);">✅ 隐藏宝藏区域</h3>
                    <div class="clay-text-sm clay-text-gray-700">
                        <div class="clay-mb-3"><strong>文京区：</strong> 教育资源丰富，性价比高</div>
                        <div class="clay-mb-3"><strong>目黒区：</strong> 高档住宅区，环境优美</div>
                        <div class="clay-mb-3"><strong>品川区：</strong> 交通便利，发展潜力大</div>
                        <div class="clay-mb-0"><strong>中野区：</strong> 文化氛围浓厚，房租适中</div>
                    </div>
                </div>
            </div>

            <h2 class="clay-heading-3 clay-text-center clay-mb-6">选择居住地的关键因素</h2>
            <div class="clay-grid clay-grid-cols-4 clay-mb-8">
                <div class="clay-card clay-text-center">
                    <div class="clay-text-center clay-mb-4" style="font-size: 48px;">🚇</div>
                    <h4 class="clay-heading-6 clay-mb-3">交通便利性</h4>
                    <p class="clay-text-sm clay-text-gray-600 clay-mb-0">考虑到主要车站的距离和换乘便利性</p>
                </div>
                <div class="clay-card clay-text-center">
                    <div class="clay-text-center clay-mb-4" style="font-size: 48px;">🛡️</div>
                    <h4 class="clay-heading-6 clay-mb-3">安全性</h4>
                    <p class="clay-text-sm clay-text-gray-600 clay-mb-0">犯罪率、夜间安全、自然灾害风险</p>
                </div>
                <div class="clay-card clay-text-center">
                    <div class="clay-text-center clay-mb-4" style="font-size: 48px;">🏪</div>
                    <h4 class="clay-heading-6 clay-mb-3">生活便利性</h4>
                    <p class="clay-text-sm clay-text-gray-600 clay-mb-0">购物、餐饮、医疗等日常设施</p>
                </div>
                <div class="clay-card clay-text-center">
                    <div class="clay-text-center clay-mb-4" style="font-size: 48px;">💰</div>
                    <h4 class="clay-heading-6 clay-mb-3">性价比</h4>
                    <p class="clay-text-sm clay-text-gray-600 clay-mb-0">房租与生活质量的平衡</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Clay风格的信息区域 -->
    <section class="clay-bg-gray-50 clay-p-8">
        <div class="clay-container clay-text-center">
            <div class="clay-card" style="max-width: 800px; margin: 0 auto;">
                <h3 class="clay-heading-5 clay-mb-4">关于本指南</h3>
                <p class="clay-text clay-text-gray-600 clay-mb-0">
                    本指南基于2025年最新数据和实地调研，为计划在东京居住的人士提供实用建议。
                    选择居住地是重要决定，建议结合个人需求和预算进行综合考虑。
                </p>
            </div>
        </div>
    </section>

    <script>
        // 区域数据
        const areaData = {
            tokyo: [],
            kanagawa: [],
            chiba: [],
            saitama: []
        };

        // 获取评级颜色类
        function getRatingClass(rating) {
            if (rating >= 4.0) return 'rating-excellent';
            if (rating >= 3.5) return 'rating-good';
            if (rating >= 3.0) return 'rating-average';
            if (rating >= 2.5) return 'rating-poor';
            return 'rating-bad';
        }

        // 创建区域卡片
        function createAreaCard(area, index) {
            return `
                <div class="clay-card area-card">
                    <div class="flex items-center clay-mb-4">
                        <div class="rank-circle clay-mr-3 ${getRatingClass(area.宜居指数)}">${area.宜居指数}</div>
                        <div>
                            <h3 class="clay-heading-5 clay-mb-1">${area.地区}</h3>
                            <p class="clay-text-sm clay-text-gray-500 clay-mb-0">${area.城市}</p>
                        </div>
                    </div>
                    <p class="clay-text clay-text-gray-600 clay-mb-4">${area.概述}</p>
                    <div class="area-details">
                        <div class="detail-item">
                            <div class="detail-label">🛡️ 治安</div>
                            <div class="detail-value">${area.治安}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">💰 房租</div>
                            <div class="detail-value">${area.房租}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🛒 购物</div>
                            <div class="detail-value">${area.购物}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🍽️ 餐饮</div>
                            <div class="detail-value">${area.餐饮}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🌍 外国人</div>
                            <div class="detail-value">${area.外国人}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🎓 教育</div>
                            <div class="detail-value">${area.教育}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🏥 医疗</div>
                            <div class="detail-value">${area.医疗}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">🚇 交通</div>
                            <div class="detail-value">${area.交通}</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">⚠️ 灾害</div>
                            <div class="detail-value">${area.灾害}</div>
                        </div>
                    </div>
                </div>
            `;
        }

        // 渲染区域数据
        function renderAreas(region) {
            const container = document.getElementById(`${region}-areas`);
            const areas = areaData[region];
            
            if (areas.length === 0) {
                container.innerHTML = '<div class="clay-text-center clay-p-8">数据加载中...</div>';
                return;
            }

            // 按宜居指数排序
            const sortedAreas = [...areas].sort((a, b) => b.宜居指数 - a.宜居指数);
            
            container.innerHTML = sortedAreas.map((area, index) => createAreaCard(area, index)).join('');
        }

        // 显示指定区域
        function showArea(region) {
            // 隐藏所有内容
            document.querySelectorAll('.area-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // 移除所有按钮的active状态
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            // 显示选中的内容
            document.getElementById(`${region}-content`).classList.add('active');
            event.target.classList.add('active');
            
            // 渲染数据
            renderAreas(region);
        }

        // 加载数据
        async function loadData() {
            try {
                // 加载东京数据
                const tokyoResponse = await fetch('data/areas/tokyo_areas.json');
                areaData.tokyo = await tokyoResponse.json();
                
                // 加载神奈川数据
                const kanagawaResponse = await fetch('data/areas/kanagawa_areas.json');
                areaData.kanagawa = await kanagawaResponse.json();
                
                // 加载千叶数据
                const chibaResponse = await fetch('data/areas/chiba_areas.json');
                areaData.chiba = await chibaResponse.json();
                
                // 加载埼玉数据
                const saitamaResponse = await fetch('data/areas/saitama_areas.json');
                areaData.saitama = await saitamaResponse.json();
                
                // 初始渲染东京数据
                renderAreas('tokyo');
                
            } catch (error) {
                console.error('数据加载失败:', error);
            }
        }

        // 页面加载完成后加载数据
        document.addEventListener('DOMContentLoaded', loadData);
    </script>

</body>
</html>